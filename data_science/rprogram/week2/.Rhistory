paste('aaa','nihao')
paste('aaa','nihao',collapse = '11')
paste('aaa','nihao',collapse = '11')
paste('aaa','nihao',collapse = '11')
?list
pts <- list(x = cars[,1], y = cars[,2])
pts
pts <- list(cars[,1],  cars[,2])
pts
t3 <-"October 17, 1986 08:24"
t3
strptime(t3, "%B %d, %Y %H:%M")
?strptime
strptime("十月 17, 1986 08:24", "%B %d, %Y %H:%M")
Sys.getlocale(category = "LC_ALL")
Sys.time()
locales
Sys.getlocale("LC_TIME")
loc <- Sys.getlocale("LC_TIME")
Sys.setlocale("LC_TIME", "en_GB.UTF-8")
Sys.getlocale("LC_TIME")
Sys.setlocale("LC_TIME", "C")
Sys.getlocale("LC_TIME")
x <- "Thu Nov 8 15:41:45 2012"
strptime(x, "%a %b %d %H:%M:%S %Y")
t3 < -"10 17, 1986 08:24"
t3 <-"October 17, 1986 08:24"
t4<-strptime(t3, "%B %d, %Y %H:%M")
t4
Sys.setlocale("LC_TIME", loc)
getwd()
print(R.version.string)
source("pollutantmean.R")
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
source("pollutantmean.R")
getwd()
dir()
source("pollutantmean.R")
source("pollutantmean.R")
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
dir()
setwd(dir)
setwd(dir)
dir()
rm(list = ls())
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
setwd(dir)
setwd(dir)
print(R.version.string)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
dir()
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
directory <- 'specdata'
id <- 1
file_names = paste(directory,sprintf("%03d.csv", id),sep="\\")
file_names
csv_data_frame <- do.call(rbind,lapply(file_names,read.csv))
csv_data_frame
csv_data_frame[2]
!is.na(csv_data_frame[2])
!is.na(csv_data_frame[[2]])
!is.na(csv_data_frame[[3]])
!is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
csv_data_frame
csv_data_frame[c(T,F)]
csv_data_frame[[4\]]
csv_data_frame[[4]]
temp = csv_data_frame[[4]]
temp
class(temp)
temp = csv_data_frame[[4]]
temp[!is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])]
temp = csv_data_frame[4]
csv_data_frame
!is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
temp <- !is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
temp
class(temp)
data.frame(temp)
?cbind
cbind(1, 1:7)
cbind(csv_data_frame,data.frame(temp))
temp
csv_data_frame_tf <- cbind(csv_data_frame,data.frame(temp))
csv_data_frame_tf
csv_data_frame_tf[csv_data_frame_tf[5]=TRUE]
csv_data_frame_tf[csv_data_frame_tf[5]==TRUE]
csv_data_frame_tf[csv_data_frame_tf[[5]]==TRUE]
csv_data_frame_tf[[5]]
csv_data_frame_tf[csv_data_frame_tf[[5]]==TRUE]
csv_data_frame_tf[[5]]==TRUE
csv_data_frame_tf[csv_data_frame_tf[[5]]==TRUE]
csv_data_frame_tf
View(csv_data_frame_tf)
csv_data_frame_tf[csv_data_frame_tf$temp==TRUE]
csv_data_frame_tf$temp
csv_data_frame_tf[csv_data_frame_tf$temp == TRUE]
View(csv_data_frame_tf)
View(csv_data_frame_tf)
csv_data_frame_tf[[5]]
csv_data_frame_tf[5]
csv_data_frame_tf[csv_data_frame_tf$temp == TRUE,]
csv_data_frame_tf[csv_data_frame_tf$temp == TRUE,]
csv_data_frame_tf[csv_data_frame_tf$temp == TRUE,]
?table
data.frame(table(csv_data_frame_tf_cut$ID))
csv_data_frame_tf_cut <- csv_data_frame_tf[csv_data_frame_tf$temp == TRUE,]
data.frame(table(csv_data_frame_tf_cut$ID))
mydf <- structure(list(ID = c(110L, 111L, 121L, 131L, 141L),
MONTH.YEAR = c("JAN. 2012", "JAN. 2012",
"FEB. 2012", "FEB. 2012",
"MAR. 2012"),
VALUE = c(1000L, 2000L, 3000L, 4000L, 5000L)),
.Names = c("ID", "MONTH.YEAR", "VALUE"),
class = "data.frame", row.names = c(NA, -5L))
mydf
class(mydf)
table(csv_data_frame_tf_cut$ID)
class(table(csv_data_frame_tf_cut$ID))
?date.frame
table(csv_data_frame_tf_cut$ID)
table(csv_data_frame_tf_cut$ID)[1]
?table
colnames(csv_data_frame_tf_cut) <- c("id", "nobs")
csv_data_frame_tf_cut
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
csv_data_frame <- do.call(rbind,lapply(file_names,read.csv))
temp <- !is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
csv_data_frame_tf <- cbind(csv_data_frame,data.frame(temp))
csv_data_frame_tf_cut <- csv_data_frame_tf[csv_data_frame_tf$temp == TRUE,]
csv_data_frame_tf_cut
result_df <- data.frame(table(csv_data_frame_tf_cut$ID))
colnames(result_df) <- c("id", "nobs")
result_df
rm(list = ls())
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
directory <- 'specdata'
id <- 1
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
csv_data_frame <- do.call(rbind,lapply(file_names,read.csv))
label <- !is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
csv_data_frame_tf <- cbind(csv_data_frame,data.frame(label))
csv_data_frame_tf_cut <- csv_data_frame_tf[csv_data_frame_tf$label == TRUE,]
result_df <- data.frame(table(csv_data_frame_tf_cut$ID))
colnames(result_df) <- c("id", "nobs")
result_df
id <- 30:25
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
csv_data_frame <- do.call(rbind,lapply(file_names,read.csv))
label <- !is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
csv_data_frame_tf <- cbind(csv_data_frame,data.frame(label))
csv_data_frame_tf_cut <- csv_data_frame_tf[csv_data_frame_tf$label == TRUE,]
result_df <- data.frame(table(csv_data_frame_tf_cut$ID))
colnames(result_df) <- c("id", "nobs")
result_df
result_df[match(target, result_df$id),]
result_df[match(id, result_df$id),]
match(id, result_df$id)
class(match(id, result_df$id))
id
result_df$id
result_df
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
directory <- 'specdata'
id <- 1
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
csv_data_frame <- do.call(rbind,lapply(file_names,read.csv))
label <- !is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
csv_data_frame_tf <- cbind(csv_data_frame,data.frame(label))
csv_data_frame_tf_cut <- csv_data_frame_tf[csv_data_frame_tf$label == TRUE,]
result_df <- data.frame(table(csv_data_frame_tf_cut$ID))
colnames(result_df) <- c("id", "nobs")
result_df
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
directory <- 'specdata'
id <- 30:25
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
csv_data_frame <- do.call(rbind,lapply(file_names,read.csv))
label <- !is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
csv_data_frame_tf <- cbind(csv_data_frame,data.frame(label))
csv_data_frame_tf_cut <- csv_data_frame_tf[csv_data_frame_tf$label == TRUE,]
result_df <- data.frame(table(csv_data_frame_tf_cut$ID))
colnames(result_df) <- c("id", "nobs")
result_df
result_df$id
class(result_df$id)
class(result_df[[1]])
class(result_df[1])
result_df[[1]]
result_df[1]
?match
match(id, result_df$id)
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
?head
?summary
?cor
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
source("complete.R")
directory <- 'specdata'
threshold <- 150
complete_df <- complete(directory)
complete_df
View(complete_df)
View(complete_df)
complete(directory,287:290)
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
directory <- 'specdata'
id <- 287:290
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
csv_data_frame <- do.call(rbind,lapply(file_names,read.csv))
csv_data_frame
label <- !is.na(csv_data_frame[[2]]) & !is.na(csv_data_frame[[3]])
label
csv_data_frame_tf <- cbind(csv_data_frame,data.frame(label))
View(csv_data_frame_tf)
View(csv_data_frame_tf)
csv_data_frame_tf_cut <- csv_data_frame_tf[csv_data_frame_tf$label == TRUE,]
View(csv_data_frame_tf_cut)
View(csv_data_frame_tf_cut)
data.frame(table(csv_data_frame_tf_cut$ID))
result_df <- data.frame(table(csv_data_frame_tf_cut$ID))
colnames(result_df) <- c("id", "nobs")
result_df
match(id, result_df$id)
result_df[match(id, result_df$id),]
result_df
result_df[match(id, result_df$id),]
result_df_v2 <- result_df[match(id, result_df$id),]
result_df_v2
result_df_v2$id
result_df_v2$id <- id
result_df_v2
result_df_v2[is.na(result_df_v2$nobs),nobs]
result_df_v2[is.na(result_df_v2$nobs),2]
result_df_v2[is.na(result_df_v2$nobs),"nobs"]
result_df_v2[is.na(result_df_v2$nobs),"nobs"] <- 0
result_df_v2
rownames(result_df_v2) <- NULL
result_df_v2
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
dir <- 'C:\\Users\\Arthur-Lance\\Desktop\\rprogram\\week2'
setwd(dir)
source("complete.R")
directory <- 'specdata'
threshold <- 150
complete_df <- complete(directory)
complete_df
View(complete_df)
View(complete_df)
complete_df[complete_df$id > threshold,"id"]
complete_df[complete_df$id > 150,"id"]
complete_df[complete_df$id > 350,"id"]
complete_df[complete_df$id > 250,"id"]
complete_df[complete_df$id > 300,"id"]
complete_df[complete_df$id > threshold,"id"]
id <- complete_df[complete_df$id > threshold,"id"]
id
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
file_names
?do.ca;;
?do.call
lapply(file_names,read.csv)
?rbind
file_names
id <- complete_df[complete_df$id > threshold,"id"]
id
complete_df
threshold
complete_df[complete_df$nobs > threshold,"id"]
complete_df <- complete(directory)
id <- complete_df[complete_df$nobs > threshold,"id"]
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
file_names
csv_data_frame <- do.call(rbind,lapply(file_names,read.csv))
csv_data_frame
View(csv_data_frame)
View(csv_data_frame)
csv_data_frame[!is.na(csv_data_frame$sulfate) & !is.na(csv_data_frame$nitrate),]
csv_data_frame_notna <- csv_data_frame[!is.na(csv_data_frame$sulfate) & !is.na(csv_data_frame$nitrate),]
csv_data_frame_notna
?ddply
library(plyr)
?ddply
csv_data_frame_notna$ID
unique(csv_data_frame_notna$ID)
class(unique(csv_data_frame_notna$ID))
id
id
file_names
length(id)
1:length(id)
?cor
?append
a<- 1:5
a
class(a)
append(a,7)
a
temp_df <- read.csv(file_names[1])
temp_df
temp_df_v2 <- temp_df[!is.na(temp_df$sulfate) & !is.na(temp_df$nitrate),]
temp_df_v2
result_num_vec <- append(result_num_vec,cor(temp_df_v2$sulfate,temp_df$nitrate))
result_num_vec <- numeric()
result_num_vec <- append(result_num_vec,cor(temp_df_v2$sulfate,temp_df$nitrate))
result_num_vec <- append(result_num_vec,cor(temp_df_v2$sulfate,temp_df_v2$nitrate))
result_num_vec
source("complete.R")
directory <- 'specdata'
threshold <- 5000
complete_df <- complete(directory)
id <- complete_df[complete_df$nobs > threshold,"id"]
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
file_names
id
1:length(id)
vector(mode="character", length=10)
vector(mode="character", length=10)
?numeric
numeric(length = 7)
seq(1, 100, by=1)
seq(1, 0, by=1)
numeric(1:2)
numeric(2)
length(id)
result_num_vec <- numeric()
if (length(id) > 0){
for (idx in 1:length(id)){
temp_df <- read.csv(file_names[idx])
temp_df_v2 <- temp_df[!is.na(temp_df$sulfate) & !is.na(temp_df$nitrate),]
result_num_vec <- append(result_num_vec,cor(temp_df_v2$sulfate,temp_df_v2$nitrate))
}
}
result_num_vec
source("complete.R")
directory <- 'specdata'
threshold <- 0
complete_df <- complete(directory)
id <- complete_df[complete_df$nobs > threshold,"id"]
file_names <- paste(directory,sprintf("%03d.csv", id),sep="\\")
id
length(id)
complete_df
View(complete_df)
View(complete_df)
id <- complete_df[complete_df$nobs = threshold,"id"]
id <- complete_df[complete_df$nobs == threshold,"id"]
id
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
sample(332, 10)
sample(332, 10)
sample(332, 10)
set.seed(42)
sample(332, 10)
set.seed(42)
sample(332, 10)
set.seed(42)
sample(332, 10)
sample(332, 10)
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
source("corr.R")
source("complete.R")
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
?lapply
lapply
funif
runif
?runif
runif(1)
runif(2)
runif(3)
runif(1)
runif(1)
runif(3)
runif(3)
runif(3)
runif(10)
runif(10)
runif(10)
runif(10)
runif(10)
runif(11)
runif(100)
runif(100)
runif(100)
runif(100)
runif(100)
runif(100)
apply
str(apply)
?quantile
quantile(x <- rnorm(1001))
quantile(x,  probs = c(0.1, 0.5, 1, 2, 5, 10, 50, NA)/100)
?rowMeans
str(mapply)
?mapply
?runif
str(tapply)
?tapply
?gl
?tapply
range(1)
range(3)
range(7)
?range
?range(1,9)
range(1,9)
x <- c(NA, 1:3, -1:1/0); x
c(1:3,1:@)
c(1:3,1:2)
?c
?range
range(x)
range(x, na.rm = TRUE)
range(x, finite = TRUE)
gl(3,10)
class(gl(3,10))
?gl
?c
c(rnorm(10),runif(10))
?runif
?tapply
?split
gl(3,10)
?interaction
x<-rnorm(10)
f1<-gl(2,5)
f2<-gl(5,2)
interaction(f1,f2)
x
list(f1,f2)
split(x,list(f1,f2))
str(split(x,list(f1,f2)))
?strip_splits
?str
?split
?lm
debug(lm)
lm(y-x)
nnnnnnnnnnnnnnnnnnnnnn
n
n
read.csv("nosuchfile")
options(error = recover)
read.csv("nosuchfile")
lm(y-x)
